(this["webpackJsonpstudent-onshow-frontend"]=this["webpackJsonpstudent-onshow-frontend"]||[]).push([[0],{84:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n.n(r),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var i=n(22),s=n(135),l=n(0),u=n.n(l),j=n(11),d=n(121),b=n(18),h=n(122),p=n(116),m=n(123),f=n(124),O=n(48),g=n(125),x=n(126),v=n(119),y=n(137),w=n(20),S=n.n(w),k=n(33),C="http://37.187.197.248:3000",T=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_URL:"http://37.187.197.248:3000"}).REACT_APP_GOOGLE_ANALYTICS,C+"/api/item"),A=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(T,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(k.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(T),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(S.a.mark((function e(t,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(T,"/vote/").concat(t,"/").concat(n),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),E=n(138),W=n(112),L=n(5),N=n(3),P=Object(L.a)((function(){return Object(E.a)({progressWrapper:{minHeight:"-webkit-fill-available",display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var t=e.classes;return Object(N.jsx)("div",{className:t.progressWrapper,children:Object(N.jsx)(W.a,{})})})),F=n(118),R=n(117),D=n(120),B=Object(L.a)((function(e){var t=e.spacing;return Object(E.a)({wrapper:{padding:t(4),textAlign:"center",maxWidth:"800px",margin:"0 auto"},icon:{fontSize:"3em"},header:{display:"flex",flexDirection:"column-reverse",justifyContent:"center"},iconContainer:{textAlign:"center"}})}))((function(e){var t=e.message,n=void 0===t?void 0:t,r=e.classes,a=e.action,o=void 0===a?void 0:a,c=e.actionLabel,s=void 0===c?"Try Again":c;return Object(N.jsxs)(p.a,{elevation:3,className:r.wrapper,children:[Object(N.jsx)("div",{className:r.iconContainer,children:Object(N.jsx)(R.a,{color:"error",className:r.icon})}),Object(N.jsx)(F.a,{title:n||"There was a problem",className:r.header}),o?Object(N.jsx)(v.a,{className:r.iconContainer,variant:"contained",color:"secondary",endIcon:Object(N.jsx)(D.a,{}),onClick:o,children:s}):Object(N.jsx)(v.a,{component:i.b,to:"/",color:"primary",variant:"contained",children:"Home"})]})})),U=n(127),z=n(128),H=function(){var e=Object(l.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(!0),o=Object(b.a)(a,2),c=o[0],i=o[1],s=Object(l.useState)(""),j=Object(b.a)(s,2),w=j[0],S=j[1],k=Object(l.useState)(""),C=Object(b.a)(k,2),T=C[0],_=C[1],E=Object(l.useState)(!1),W=Object(b.a)(E,2),L=W[0],F=W[1],R=u.a.useState(""),H=Object(b.a)(R,2),K=H[0],M=H[1],V=Object(l.useCallback)((function(){A().then((function(e){i(!1),e.error?S(e.error):r(e.data)})).catch((function(e){i(!1),S("string"===typeof e?e:"Could not load items")}))}),[]);Object(l.useEffect)((function(){V()}),[V]);var G=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];F(!0),I(e,t).then((function(e){e.error&&M("Could not vote for item! "+e.error),F(!1),"true"===e.data.unvote?(_(""),localStorage.removeItem("voted"),M("Removed vote for item!")):(_(e.data._id),localStorage.setItem("voted",e.data.item._id),M("Voted for item!"))})).catch((function(e){F(!1),M("string"===typeof e?e:"Error: Could not vote for item")}))};return c?Object(N.jsx)(P,{}):""!==w?Object(N.jsx)(B,{message:w,action:V}):Object(N.jsxs)(u.a.Fragment,{children:[Object(N.jsx)(d.a,{container:!0,spacing:2,children:n.length>0?n.map((function(e,t){return Object(N.jsx)(d.a,{item:!0,style:{width:400},children:Object(N.jsx)(h.a,{in:!0,style:{transitionDelay:"".concat(200*(t+1),"ms")},children:Object(N.jsxs)(p.a,{children:[Object(N.jsx)(m.a,{component:"iframe",style:{border:"none",overflow:"unset"},width:"400",height:"400",src:"https://editor.p5js.org/".concat(e.username,"/embed/").concat(e.link)}),Object(N.jsx)(f.a,{children:Object(N.jsx)(O.a,{gutterBottom:!0,variant:"h3",component:"h3",children:e.author})}),Object(N.jsx)(g.a,{disableSpacing:!0,children:localStorage.getItem("voted")&&localStorage.getItem("voted")===e._id||T===e._id?Object(N.jsx)(x.a,{onClick:function(){return G(e._id?e._id:e.link,!0)},disabled:L,"aria-label":"Unvote this item",children:Object(N.jsx)(U.a,{})}):Object(N.jsx)(x.a,{disabled:L||null!==localStorage.getItem("voted"),"aria-label":"Vote for this item",onClick:function(){return G(e._id?e._id:e.link)},children:Object(N.jsx)(z.a,{})})})]})})},e._id?e._id:e.link)})):Object(N.jsx)(d.a,{item:!0,sm:12,xs:12,children:Object(N.jsxs)(p.a,{children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(O.a,{gutterBottom:!0,variant:"h3",component:"h3",children:"No Items Found"})}),Object(N.jsx)(g.a,{children:Object(N.jsx)(v.a,{variant:"contained",color:"secondary",endIcon:Object(N.jsx)(D.a,{}),onClick:V,children:"Try Again"})})]})})}),Object(N.jsx)(y.a,{open:""!==K,autoHideDuration:6e3,onClose:function(){return M("")},message:K})]})},K=n(130),M=n(131),V=n(132),G=function(){return Object(N.jsx)(u.a.Fragment,{children:Object(N.jsx)(K.a,{position:"sticky",children:Object(N.jsxs)(M.a,{style:{justifyContent:"space-between"},children:[Object(N.jsx)(i.b,{to:"/",children:Object(N.jsx)("img",{src:"/logo.png",alt:"Creative Computing Logo",width:"100",style:{padding:"10px"}})}),!localStorage.getItem("existing")&&Object(N.jsx)(v.a,{component:i.b,to:"/add",endIcon:Object(N.jsx)(V.a,{}),children:"Add"})]})})})},J=n(136),Y=n(133),q=n(134),$=[{name:"Add",link:"/add",component:Object(L.a)((function(e){var t=e.spacing;return Object(E.a)({wrapper:{padding:t(4)},error:{display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var t=e.history,n=e.classes,r=Object(l.useState)(""),a=Object(b.a)(r,2),o=a[0],c=a[1],s=Object(l.useState)(""),j=Object(b.a)(s,2),d=j[0],h=j[1],m=Object(l.useState)(""),x=Object(b.a)(m,2),y=x[0],w=x[1],S=Object(l.useState)(""),k=Object(b.a)(S,2),C=k[0],T=k[1],A=Object(l.useState)(!1),I=Object(b.a)(A,2),E=I[0],L=I[1],P=Object(l.useState)(""),D=Object(b.a)(P,2),U=D[0],z=D[1],H=function(){if(function(){var e=!0;return o.length<3?(h("Author must be at least 4 characters"),e=!1):h(""),y.length<5?(T("Link must be at least 5 characters"),e=!1):T(""),y.includes("http")?T(""):(T("Link must be a valid link"),e=!1),e}()){var e,n;if(L(!0),y.includes("iframe")){var r=y.split('src="')[1].split('">')[0].split(".org/")[1].split("/embed/");e=r[0],n=r[1]}else{var a=y.split(".org/")[1].split("/");e=a[0],n=a[2]}_({author:o,username:e,link:n}).then((function(e){if(!e||e.error)return L(!1),z(e&&e.error?e.error:"Could not create portfolio item");localStorage.setItem("existing","true"),t.push("/")}))}};return localStorage.getItem("existing")?Object(N.jsx)(B,{message:"You have already added a portfolio item"}):Object(N.jsxs)(u.a.Fragment,{children:[Object(N.jsx)(v.a,{component:i.b,to:"/",startIcon:Object(N.jsx)(Y.a,{}),children:"Back"}),Object(N.jsxs)(p.a,{elevation:3,className:n.wrapper,children:[Object(N.jsx)(F.a,{author:"Create Portfolio Item"}),Object(N.jsxs)(f.a,{children:[Object(N.jsx)(J.a,{name:"author",label:"Author",autoFocus:!0,margin:"normal",value:o,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&H()},error:""!==d,helperText:d}),Object(N.jsx)(J.a,{name:"link",label:"Link",margin:"normal",value:y,onChange:function(e){return w(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&H()},error:""!==C,helperText:C,multiline:!0})]}),Object(N.jsx)("br",{}),""!==U&&Object(N.jsxs)(O.a,{component:"p",className:n.error,color:"error",style:{textAlign:"center"},children:[Object(N.jsx)(R.a,{color:"error"}),U]}),Object(N.jsx)(g.a,{children:Object(N.jsx)(v.a,{color:"secondary",variant:"contained",onClick:H,disabled:E,endIcon:E?Object(N.jsx)(W.a,{size:18}):Object(N.jsx)(q.a,{}),children:"Create"})})]})]})})),authed:!1}],Q=function(){var e=Object(j.f)();return Object(N.jsxs)(u.a.Fragment,{children:[Object(N.jsx)(G,{}),Object(N.jsx)(d.a,{container:!0,justify:"center",style:{marginTop:"20px",marginBottom:"20px"},children:Object(N.jsx)(d.a,{item:!0,xs:11,children:Object(N.jsx)(l.Suspense,{fallback:Object(N.jsx)(P,{}),children:Object(N.jsxs)(j.c,{children:[Object(N.jsx)(j.a,{exact:!0,path:"/",component:H}),$.map((function(t,n){var r=t.link,a=t.component;return t.authed?Object(N.jsx)(j.a,{render:function(){return Object(N.jsx)(B,{message:"You need to be logged in to view this page",action:function(){return e.push("/login")},actionLabel:"Login"})}},n):Object(N.jsx)(j.a,{path:r,component:a},n)})),Object(N.jsx)(j.a,{render:function(){return Object(N.jsx)(B,{message:"The page you are looking for does not exist"})}})]})})})})]})},X=n(62),Z=n(139),ee=Object(X.a)({palette:{primary:{main:"#ff5006"},secondary:{main:"#410099"},background:{default:"#0B1315",paper:"#171F21"},type:"dark"},typography:{fontFamily:["quicksand","sans-serif"].join(","),h1:{fontWeight:800,fontSize:"3.052rem",margin:"3rem 0 1.38rem"},h2:{fontWeight:700,fontSize:"2.441rem",margin:"3rem 0 1.38rem"},h3:{fontWeight:700,fontSize:"1.953rem",margin:"3rem 0 1.38rem"},h4:{fontWeight:700,fontSize:"1.563rem",margin:"3rem 0 1.38rem"},h5:{fontWeight:700,fontSize:"1.25rem"}},overrides:{MuiTextField:{root:{width:"100%",margin:"16px auto"}},MuiListItemText:{root:{display:"flex",flexDirection:"column-reverse"}},MuiCard:{root:{textAlign:"center"}},MuiCardActions:{root:{justifyContent:"center"}}}}),te=ee=Object(Z.a)(ee),ne=function(){return Object(N.jsx)(i.a,{children:Object(N.jsx)(s.a,{theme:te,children:Object(N.jsx)(Q,{})})})};a.a.render(Object(N.jsx)(ne,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):c(t,e)}))}}()}},[[84,1,2]]]);
//# sourceMappingURL=main.8dae6fd3.chunk.js.map